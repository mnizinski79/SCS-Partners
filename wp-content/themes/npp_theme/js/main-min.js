function initParallax(){function t(){var t="relative"===$("header").css("position")?$("header").outerHeight():0;$(".parallax-image-container").css({width:n.outerWidth(),height:n.outerHeight()+t,backgroundImage:a}),$(".parallax-image-container").css("top",function(){var t=0,e=$(this).offset(),n=e.top,a=n+t;return a})}function e(){var t=0;$(".parallax-image-container").css("top",function(){var e=-$(window).scrollTop()*i+t;return e})}var n=$(".parallax"),a=n.css("background-image"),o="<div class='parallax-image-container'></div>";n.append(o),t(),n.removeAttr("style");var i=null!==_globalSpeed?_globalSpeed:.5;$(window).scroll(e),$(window).resize(t)}function getBackgroundPos(t){var e=[t.css("background-position-x"),t.css("background-position-y")];return{x:parseFloat(e[0]),xUnit:e[0].replace(/[0-9-.]/g,""),y:parseFloat(e[1]),yUnit:e[1].replace(/[0-9-.]/g,"")}}function initPosMessage(){$(".branding-box").each(function(){function t(){a=getBackgroundPos(n).y,o=$(window).width(),i=$(window).height(),r=n.height(),s=1.2*r,l=s-r,c=l/i,_globalSpeed=c,d=o>i?!0:!1}function e(){if(d===!0){var t="50%",e=-($(window).scrollTop()*_globalSpeed)+"px";n.css({"background-position-x":t,"background-position-y":e})}else n.css({"background-position-x":"40%","background-position-y":"50%"})}var n=$(this),a,o,i,r,s,c,l,d;e(),t(),$(window).scroll(e),$(window).resize(t)})}function initFooter(){function t(){n=getBackgroundPos($(".sub-footer")).y,a=$(window).width(),o=$(window).height(),i=1.125,r=$("#container").height(),s=i*a,l=s-o,c=l/r,d=a>o?!0:!1}function e(){if(d===!0){var t="50%",e=-($(window).scrollTop()*c)+"px";$(".sub-footer").css({"background-position-x":t,"background-position-y":e})}}var n,a,o,i,r,s,c,l,d;e(),t(),$(window).scroll(e),$(window).resize(t)}function initMobileTrigger(){$(".nav-trigger").click(function(t){t.preventDefault(),$("body").toggleClass("mobile-nav-open")})}function initCarousel(){$(".carousel").each(function(t){function e(t){var e=t.data.directive,n=t.target,o;o=t.data.swipeTarget?t.data.swipeTarget:$(n).attr("data-carousel");var i=$("#"+o).find(".carousel").first(),r=parseInt(u*c),l=parseInt(i.css("left")),p=r*(s-1),f=$(n).attr("data-index"),g;"moveNext"===e?l>-p&&(g=l-r,i.css({left:g}),d+=1,a()):"movePrev"===e?0>l&&(g=l+r,i.css({left:g}),d-=1,a()):"jump"===e&&(g=-(r*f),i.css({left:g}),d=parseInt(f)+1,a())}function n(){$("#navDots_"+v).remove(),h="";for(var t=0;s>t;t++)h+=0===t?"<span class='nav-dot-current' data-index='"+t+"' data-carousel='"+v+"'></span>":"<span data-index='"+t+"' data-carousel='"+v+"'></span>";$("<div id='navDots_"+v+"' class='nav-dots'>"+h+"</div>").appendTo(l),$("#navDots_"+v).find("span").click({directive:"jump"},e)}function a(){$("#navDots_"+v).find("span").each(function(){var t=$(this);$(this).removeClass("nav-dot-current"),parseInt(t.attr("data-index"))===parseInt(d-1)&&t.addClass("nav-dot-current")})}var o=$(this),i=o.find(".carousel-item"),r=i.length,s=1,c=1,l=o.parent(),d=1,p,u,f,g,h="",v="carousel_"+t,w="<div class='carousel-wrapper' id='"+v+"'></div>";o.wrap(w);var m=function(){p=o.parent().outerWidth(),$(window).outerWidth()<620?(f=.02*p,u=.9*p+f,g=u*r,c=1):(f=.02*p,u=p/4+f/4,g=u*r,c=4),s=Math.ceil(r/c),i.each(function(){$(this).css({width:u,paddingRight:f})}),o.width(g),o.css("left",0),d=1};$("<div id='scrollControls_"+v+"' class='scrollControls'><div class='scroll-btn-prev' data-carousel='"+v+"'><span>prev</span></div><div class='scroll-btn-next' data-carousel='"+v+"'><span>next</span></div></div>").appendTo(l);var b=$("#"+v).hammer();b.on("swipeleft",{directive:"moveNext",swipeTarget:v},e),b.on("swiperight",{directive:"movePrev",swipeTarget:v},e),b.on("touch",function(t){t.gesture.preventDefault()}),$("#scrollControls_"+v).find(".scroll-btn-prev").click({directive:"movePrev"},e),$("#scrollControls_"+v).find(".scroll-btn-next").click({directive:"moveNext"},e),$(window).resize(function(){m(),n()}).trigger("resize")})}function initSearchToggle(){$("#secondary-nav li.btn-search a").wrapInner("<span></span>"),$("#secondary-nav li.btn-search a").click(function(t){t.preventDefault(),$(document).off(),$("#primary-search").off(),$("body").hasClass("mobile-nav-open")?($("body").removeClass("mobile-nav-open"),setTimeout(function(){$("body").toggleClass("search-open")},500)):($("body").toggleClass("search-open"),$("body").hasClass("search-open")?$("#primary-search input:first").focus():$("#primary-search input:first").blur()),$(window).outerWidth()<980&&($(document).click(function(){$("body").removeClass("search-open")}),$("#primary-search").click(function(t){t.stopPropagation()}))})}function initDatePicker(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,a=t.getFullYear();10>e&&(e="0"+e),10>n&&(n="0"+n);var o=n+"-"+e+"-"+a;$("#date-picker").DatePicker({flat:!0,date:o,current:o,format:"m-d-Y",calendars:1,starts:0,prev:"",next:"",onChange:function(t){$("#date-select").val(t)}})}function initPageLeads(){$(".page-lead:nth-child(3n+3)").attr("data-orientation","right"),$(".page-lead:nth-child(3n+2)").attr("data-orientation","center"),$(".page-lead:nth-child(3n+1)").attr("data-orientation","left"),$(".page-lead").hover(function(){function t(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}$("#page-modal-wrapper").delay(200).fadeOut(300,function(){$(this).remove()});var e=$(this),n=e.attr("data-title"),a=e.attr("data-content"),o=e.offset(),i=e.attr("data-orientation"),r=e.find("img"),s=r.attr("src"),c=s.substring(0,s.lastIndexOf(".")),l=s.substring(s.lastIndexOf("."));r.attr("src",c+"-hover"+l);var d="<div id='page-info-modal' class='"+i+"'><h3>"+n+"</h3><p>"+a+"</p></div>";$(d).prependTo("body").wrapAll("<div id='page-modal-wrapper'></div>").css({opacity:0,display:"block",top:o.top+e.outerHeight()-50}).delay(200).animate({top:o.top+e.outerHeight()-30,opacity:1},850,"easeOutExpo");var p=$("#page-info-modal");if(!t(p)){"function"==typeof jQuery&&p instanceof jQuery&&(p=p[0]);var u=p.getBoundingClientRect();$("htm,body").animate({scrollTop:$(window).scrollTop()+Math.abs(u.bottom-$(window).innerHeight())+40},550)}},function(){var t=$(this),e=t.find("img"),n=e.attr("src"),a=n.replace("-hover","");e.attr("src",a),$("#page-modal-wrapper").delay(200).fadeOut(150,function(){$(this).remove()})})}function initFormUpload(){$(".form-file").each(function(){function t(){var t="<div class='form-upload-cap'></div>'",e=$(t);e.appendTo(n)}var e=$(this),n=$("<label for='"+e.attr("id")+"'>Select a File (.JPG, .RTF, or .PDF)</label>");n.insertBefore(e),n.addClass("form-control"),e.addClass("file-upload-hide"),t(),e.change(function(){n.text(e.val().substr(e.val().lastIndexOf("\\")+1)),t()})})}function initShareLinks(){function t(t){var e;window.open(t,"Share This",e="height=440,width=520,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,directories=no,status=no")}$(".share-box a").click(function(){var e=$(this).attr("data-share"),n=window.location.href,a;return"twitter"===e?(a=encodeURI("https://twitter.com/intent/tweet?url="+String(n)),t(a)):"facebook"===e?(a=encodeURI("http://www.facebook.com/sharer/sharer.php?u="+String(n)),t(a)):"linkedin"===e?(a=encodeURI("http://www.linkedin.com/shareArticle?mini=true&url="+String(n)),t(a)):"googleplus"===e&&(a=encodeURI("https://plus.google.com/share?url="+String(n)),t(a)),!1})}var _globalSpeed=null;$(document).ready(function(){initMobileTrigger(),initCarousel(),initSearchToggle(),initPageLeads(),initDatePicker(),initFormUpload(),initShareLinks(),initPosMessage(),initParallax(),initFooter(),$(".secondary-content select").chosen()});
//# sourceMappingURL=./main-min.js.map